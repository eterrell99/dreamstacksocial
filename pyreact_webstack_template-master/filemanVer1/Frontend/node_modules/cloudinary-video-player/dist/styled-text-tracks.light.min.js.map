{"version":3,"file":"styled-text-tracks.light.min.js","mappings":"07EA+EA,QA1EyB,SAACA,EAAQC,GAChC,IAAMC,EAAU,CACdC,MAAOH,EAAOG,OAAS,UACvBC,SAAUJ,EAAOI,SACjBC,SAAUL,EAAOK,SACjBC,QAASN,EAAOM,SAAW,SAC3BC,IAAKP,EAAOO,IACZC,MAAOR,EAAOQ,OAIVC,EAAaR,EAAOS,iBAAiBC,KAAKC,UAChDH,EAAWI,SAAQ,SAAAC,GAEbA,EAAUC,WAAW,2BACvBN,EAAWO,OAAOF,EAEtB,IACAL,EAAWQ,IAAI,0BACfR,EAAWQ,IAAI,gCAADC,OAAiChB,EAAQC,QACvDD,EAAQI,QAAQa,MAAM,KAAKN,SAAQ,SAAAP,GACjCG,EAAWQ,IAAI,kCAADC,OAAmCZ,GACnD,IAGIJ,EAAQE,WACVA,EAAAA,EAAAA,UAASH,EAAOS,iBAAiBC,KAAMT,EAAQE,UAGjD,IAAMgB,EAAsB,SAACZ,EAAOa,GAClC,IAAMC,EAAUC,SAASC,cAAc,SACvC,GAAIC,OAAOC,QAAQlB,GAAQ,CACzB,IAAMmB,EAAMF,OAAOC,QAAQlB,GAAOoB,QAAO,SAACC,EAAGC,GAAmB,IAAAC,EAAAC,EAAAF,EAAA,GAAhBG,EAAGF,EAAA,GAAEG,EAAKH,EAAA,GACxD,OAAOF,EAAM,GAAHX,OAAMe,EAAG,MAAAf,OAAKgB,EAAK,gBAC/B,GAAG,IACHZ,EAAQa,UAAY,YAAHjB,QACdkB,EAAAA,EAAAA,mBAAkBnC,GAAO,KAAAiB,OAAIG,EAAQ,kBAAAH,OAClCS,EAAG,uBAGT1B,EAAOoC,IAAIC,YAAYhB,EACzB,CACF,EAGA,GAAIpB,EAAQK,IAAK,CACf,IAAAgC,EAAgCrC,EAAQK,IAAhCiC,EAACD,EAADC,EAAGC,EAACF,EAADE,EAAGC,EAAKH,EAALG,MAAOC,EAAMJ,EAANI,OACrBvB,EAAmBwB,EAAAA,EAAC,CAEhBC,UAAW,GAAF3B,OAAKsB,GAAQ,EAAC,KAAAtB,OAAIuB,GAAQ,IAC/BC,EAAQ,CAAEA,MAAAA,QAAUI,GACpBH,EAAS,CAAEA,OAAAA,QAAWG,GAE5B,iDAEJ,CAGI5C,EAAQG,UACVe,EACE,CAAE,YAAalB,EAAQG,UACvB,4EAKAH,EAAQM,OACVY,EACElB,EAAQM,MACR,2EAGN,C","sources":["webpack://cloudinary-video-player/./plugins/styled-text-tracks/styled-text-tracks.js"],"sourcesContent":["import { fontFace } from 'utils/fontFace';\nimport { playerClassPrefix } from 'utils/css-prefix';\n\nimport './styled-text-tracks.scss';\n\nconst styledTextTracks = (config, player) => {\n  const options = {\n    theme: config.theme || 'default',\n    fontFace: config.fontFace,\n    fontSize: config.fontSize,\n    gravity: config.gravity || 'bottom',\n    box: config.box,\n    style: config.style\n  };\n\n  // Class Names - Theme/Gravity\n  const classNames = player.textTrackDisplay.el().classList;\n  classNames.forEach(className => {\n    // Remove previously added theme/gravity classes\n    if (className.startsWith('cld-styled-text-tracks')) {\n      classNames.remove(className);\n    }\n  });\n  classNames.add('cld-styled-text-tracks');\n  classNames.add(`cld-styled-text-tracks-theme-${options.theme}`);\n  options.gravity.split('-').forEach(gravity => {\n    classNames.add(`cld-styled-text-tracks-gravity-${gravity}`);\n  });\n\n  // Font\n  if (options.fontFace) {\n    fontFace(player.textTrackDisplay.el(), options.fontFace);\n  }\n\n  const applyImportantStyle = (style, selector) => {\n    const styleEl = document.createElement('style');\n    if (Object.entries(style)) {\n      const css = Object.entries(style).reduce((acc, [key, value]) => {\n        return acc + `${key}: ${value} !important; `;\n      }, '');\n      styleEl.innerHTML = `\n      .${playerClassPrefix(player)} ${selector} {\n          ${css}\n        }\n      `;\n      player.el_.appendChild(styleEl);\n    }\n  };\n\n  // Custom bounding box\n  if (options.box) {\n    const { x, y, width, height } = options.box;\n    applyImportantStyle(\n      {\n        translate: `${x ? x : 0} ${y ? y : 0}`,\n        ...(width ? { width } : undefined),\n        ...(height ? { height } : undefined)\n      },\n      '.vjs-text-track-display.cld-styled-text-tracks'\n    );\n  }\n\n  // Custom font-size\n  if (options.fontSize) {\n    applyImportantStyle(\n      { 'font-size': options.fontSize },\n      '.vjs-text-track-display.cld-styled-text-tracks .vjs-text-track-cue > div'\n    );\n  }\n\n  // Custom styles\n  if (options.style) {\n    applyImportantStyle(\n      options.style,\n      '.vjs-text-track-display.cld-styled-text-tracks .vjs-text-track-cue > div'\n    );\n  }\n};\n\nexport default styledTextTracks;\n"],"names":["config","player","options","theme","fontFace","fontSize","gravity","box","style","classNames","textTrackDisplay","el","classList","forEach","className","startsWith","remove","add","concat","split","applyImportantStyle","selector","styleEl","document","createElement","Object","entries","css","reduce","acc","_ref","_ref2","_slicedToArray","key","value","innerHTML","playerClassPrefix","el_","appendChild","_options$box","x","y","width","height","_objectSpread","translate","undefined"],"sourceRoot":""}